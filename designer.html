<!DOCTYPE html>

<html lang="en">
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
        <link href="styles.css" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link href="https://fonts.googleapis.com/css2?family=Albert+Sans:ital,wght@0,100..900;1,100..900&family=Bebas+Neue&family=Dokdo&family=Foldit:wght@100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Oswald:wght@200..700&family=Permanent+Marker&family=Pixelify+Sans&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Roboto+Mono:ital,wght@0,300;1,300&family=Rubik+Scribble&family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Albert+Sans:ital,wght@0,100..900;1,100..900&family=Bebas+Neue&family=Dokdo&family=Foldit:wght@100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Oswald:wght@200..700&family=Permanent+Marker&family=Pixelify+Sans&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Roboto+Mono:ital,wght@0,300;1,300&family=Rubik+Scribble&family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>My Webpage</title>
    </head>
    <body>
        <header>
            <div class="nopadding sub"><a href="#about">About Me</a></div>
            <div class="nopadding sub current"><a href="designer.html">Graphic-designer-core</a></div>
            <div class="nopadding sub"><a href="music.html">Music-blogger-core</a></div>
            <div class="nopadding sub"><a href="photos.html">Photos Collection</a></div>
            <a href="index.html">TRUNG</a>
        </header>

        <main class="designer">
        </main>

        <i class="bi bi-chevron-compact-left arrow"></i>
        <i class="bi bi-chevron-compact-right arrow"></i>

        <section id="dot-slider">
        </section>

        <footer>
            <section id="about">
                <h2>ABOUT ME</h2>
                <p class="about">Chào, mình là Nguyễn Quý Trung, hiện tại là tân sinh viên HUST, Vietnam</p>
                <p class="about">Mình là một sinh viên làm những việc của sinh viên. Mình muốn mọi người nghĩ tới bản thân và những sản phẩm của mình là thể nghiệm và nghệ thuật.</p>
            </section>
            <section id="links">
                <h3>CONNECT WITH ME</h3>
                <div class="scroller">
                    <a href="">Facebook</a>
                    <a href="">Instagram</a>
                    <a href="">Threads</a>
                    <a href="">GitHub</a>
                    <a href="">LinkedIn</a>
                    <a href="">Blog</a>
                    <span>quytrung2406@gmail.com</span>
                    </div>
                </section>
            </footer>
        <script>
            const scroller = document.querySelector("div.scroller");

            scroller.addEventListener("wheel", (event) => {
                event.preventDefault();
                let speed = event.deltaY / 4;
                scroller.scrollTop += speed;
            });
            //dynamically displaying projects
            //update: try to access files from asset folder but failed bc this is running in a browser?
            //instead, list the name of files and make paths
            var mainDesigner = document.querySelector("main.designer");
            var dotSlider = document.querySelector("#dot-slider");
            const projects = [
                {
                    "title": "3d experimenting",
                    "description": "Nullam auctor a ante nec accumsan. Cras id sapien consequat purus aliquam sagittis. Sed sodales sem non enim viverra, id vestibulum leo finibus. Praesent gravida mauris eu leo pretium, viverra tempor enim varius. Maecenas id accumsan diam.",
                    "images": ["1.jpg", "2.jpg", "3.PNG", "4.jpg"],
                    "id": 1
                },
                {
                    "title": "đến hẹn lại lên",
                    "description": "Cras id sapien consequat purus aliquam sagittis. Sed sodales sem non enim viverra, id vestibulum leo finibus. Praesent gravida mauris eu leo pretium, viverra tempor enim varius. Proin in cursus mauris.",
                    "images": ["1.jpg", "2.png", "3.jpg"],
                    "id": 2
                },
                {
                    "title": "hinges",
                    "description": "Maecenas id accumsan diam.",
                    "images": ["1.jpg", "2.jpg", "3.jpg", "4.jpg"],
                    "id": 3
                },
                {
                    "title": "lulia",
                    "description": "Viverra. Maecenas id accumsan diam.",
                    "images": ["1.PNG", "2.PNG", "3.PNG"],
                    "id": 4
                }
            ];

            function getImages(project) {
                let imgHTML = '';
                for (const file of project["images"]) {
                    let filepath = "img-design/" + "stack" + project["id"] + "/" + file;
                    imgHTML += `<img class="formated" src="${filepath}" alt="quy">`;
                }
                console.log("imgHTML");
                return imgHTML;
            };

            for (let i = 0; i < projects.length; i++) {
                mainDesigner.innerHTML += `
                <div class="designer">
                    <div class="img-scroller">
                        ${getImages(projects[i])}
                    </div>
                    <h4>${projects[i]["title"]}</h4>
                    <p>${projects[i]["description"]}</p>
                </div>
                `
                dotSlider.innerHTML += `
                <div class="dot" id=${"dot" + i}></div>
                `
            };

            const imagescroller = document.querySelectorAll("div.img-scroller");
            var width = mainDesigner.getBoundingClientRect()["width"];

            for (let i = 0; i < imagescroller.length; i++) {
                imagescroller[i].addEventListener("wheel", (event) => {
                    event.preventDefault();
                    let speed = event.deltaY * (width/600) * 4;
                    imagescroller[i].scrollLeft += speed;
            });
            };

            var dots = document.querySelectorAll("div.dot");
            const leftArrow = document.querySelector("i.bi-chevron-compact-left");
            const rightArrow = document.querySelector("i.bi-chevron-compact-right");


            function lightUp() {
                for (let i = 0; i < dots.length; i++) {
                    if (width * (i - 0.5) <= mainDesigner.scrollLeft && mainDesigner.scrollLeft < width * (i + 0.5)) {
                        dots[i].style.backgroundColor = "var(--white)";
                        dots[i].style.width = "6px";
                        dots[i].style.height = "6px";
                        dots[i].style.borderRadius = "3px";
                    } else {
                        dots[i].style.backgroundColor = "var(--unfocused)";
                        dots[i].style.width = "4px";
                        dots[i].style.height = "4px";
                        dots[i].style.borderRadius = "2px";
                    }
                };
            };

            lightUp();

            leftArrow.addEventListener("click", (event) => {
                event.preventDefault();
                mainDesigner.scrollLeft -= width;
            });

            rightArrow.addEventListener("click", (event) => {
                event.preventDefault();
                mainDesigner.scrollLeft += width;
            });

            window.addEventListener("resize", () => {
                width = mainDesigner.getBoundingClientRect()["width"];
                lightUp();
            })
            mainDesigner.addEventListener("scroll", lightUp);
        </script>
    </body>
</html>
