<!DOCTYPE html>

<html lang="en">
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
        <link href="styles.css" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link href="https://fonts.googleapis.com/css2?family=Albert+Sans:ital,wght@0,100..900;1,100..900&family=Bebas+Neue&family=Dokdo&family=Foldit:wght@100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Oswald:wght@200..700&family=Permanent+Marker&family=Pixelify+Sans&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Roboto+Mono:ital,wght@0,300;1,300&family=Rubik+Scribble&family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Albert+Sans:ital,wght@0,100..900;1,100..900&family=Bebas+Neue&family=Dokdo&family=Foldit:wght@100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Oswald:wght@200..700&family=Permanent+Marker&family=Pixelify+Sans&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Roboto+Mono:ital,wght@0,300;1,300&family=Rubik+Scribble&family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>My Webpage</title>
    </head>
    <body>
        <header>
            <div class="nopadding sub"><a href="#about">About Me</a></div>
            <div class="nopadding sub current active-page"><a href="designer.html">Projects</a></div>
            <div class="nopadding sub"><a href="music.html">Music-blog</a></div>
            <div class="nopadding sub"><a href="photos.html">Photos Collection</a></div>
            <a href="index.html" class="sub">TRUNG</a>
        </header>

        <main class="designer">
        </main>

        <i class="bi bi-chevron-compact-left arrow"></i>
        <i class="bi bi-chevron-compact-right arrow"></i>

        <section id="dot-slider">
        </section>

        <footer>
            <section id="about">
                <h2>ABOUT ME</h2>
                <p class="about">Chào, mình là Nguyễn Quý Trung, hiện tại là tân sinh viên HUST, Vietnam</p>
                <p class="about">Mình là một sinh viên làm những việc của sinh viên. Mình muốn mọi người nghĩ tới bản thân và những sản phẩm của mình là thể nghiệm và nghệ thuật.</p>
            </section>
            <section id="links">
                <h3>CONNECT WITH ME</h3>
                <div class="scroller">
                    <a target="_blank" href="https://www.facebook.com/quytrung.ng/">Facebook</a>
                    <a target="_blank" href="https://www.instagram.com/quytrungng/">Instagram</a>
                    <a target="_blank" href="https://www.threads.net/@quytrungng?xmt=AQGziV7o9lo8u_mfZRsoz-wxQ9idCvHNC_1vNbPrFQyf3D8">Threads</a>
                    <a target="_blank" href="https://github.com/trungquynguyen">GitHub</a>
                    <a target="_blank" href="https://www.linkedin.com/in/trung-nguyen-87bbb72b2/">LinkedIn</a>
                    <a target="_blank" href="https://www.facebook.com/toithichnhac">Blog</a>
                    <span>quytrung2406@gmail.com</span>
                    </div>
                    <div class="note about">scroll</div>
                </section>
            </footer>
        <script>
            const scroller = document.querySelector("div.scroller");

            scroller.addEventListener("wheel", (event) => {
                event.preventDefault();
                let speed = event.deltaY / 4;
                scroller.scrollTop += speed;
            });
            //dynamically displaying projects
            //update: try to access files from asset folder but failed bc this is running in a browser?
            //instead, list the name of files and make paths
            var mainDesigner = document.querySelector("main.designer");
            var dotSlider = document.querySelector("#dot-slider");
            const projects = [
                {
                    "title": "GIAO",
                    "description": "Giao là một dự án của cá nhân em, một web app chạy bằng Flask dành cho gia(o việc) đình. Các thành viên giao và nhận việc nhà vào thời gian biểu. Qua dự án, học được cách kết nối front và back end, xây dựng database, sử dụng thư viện SQLAlchemy (tài liệu 'khó chệu vô cùng'), framework CSS tailwind, thiết kế logo với Inkscape, mài rũa kĩ năng JavaScript. Hiện vẫn trong quá trình xây dựng nên em chưa có link publish gì ạ hihi.",
                    "images": ["1.png", "2.png", "3.png", "4.png"],
                    "id": 5
                },
                
                {
                    "title": "đến hẹn lại lên",
                    "description": "Trưởng ban Thiết kế/Truyền thông. Tạo dựng hình ảnh thương hiệu kết hợp giữa truyền thống và hiện đại, thu hút hơn 100 người xem cho các buổi diễn trực tiếp hàng tuần. Thiết kế và chụp 60% tất cả các ấn phẩm truyền thông. Tổ chức các cuộc họp hàng tuần của bộ phận.",
                    "images": ["1.jpg", "2.png", "3.jpg"],
                    "id": 2
                },
                {
                    "title": "hinges",
                    "description": "Trưởng ban Thiết kế. Hướng dẫn các thành viên khác theo bộ nhận diện tối giản nhất quán, tăng mức độ tương tác trên Facebook. Dẫn dắt các cuộc thảo luận, hợp tác với các thành viên khác. Thiết kế ~30% các hình ảnh truyền thông xã hội.",
                    "images": ["1.jpg", "2.jpg", "3.jpg", "4.jpg"],
                    "id": 3
                },
                {
                    "title": "hsgs art club",
                    "description": "Thành viên ban Mĩ Thuật. Thiết kế 50% tất cả các ấn phẩm truyền thông trực quan, bao gồm in ấn và bài đăng trên mạng xã hội. Đóng góp trong các cuộc họp câu lạc bộ thường xuyên và các sự kiện chính.",
                    "images": ["1.PNG", "2.PNG", "3.PNG"],
                    "id": 4
                },
                {
                    "title": "thể nghiệm",
                    "description": "Trải nghiệm sử dụng blender.",
                    "images": ["1.jpg", "2.jpg", "3.PNG", "4.jpg"],
                    "id": 1
                },
            ];

            function getImages(project) {
                let imgHTML = '';
                for (const file of project["images"]) {
                    let filepath = "img-design/" + "stack" + project["id"] + "/" + file;
                    imgHTML += `<img class="formated" src="${filepath}" alt="quy">`;
                }
                console.log("imgHTML");
                return imgHTML;
            };

            for (let i = 0; i < projects.length; i++) {
                mainDesigner.innerHTML += `
                <div class="designer">
                    <div class="img-scroller">
                        ${getImages(projects[i])}
                    </div>
                    <div class="note">scroll on images</div>
                    <h4>${projects[i]["title"]}</h4>
                    <p>${projects[i]["description"]}</p>
                </div>
                `
                dotSlider.innerHTML += `
                <div class="dot" id=${"dot" + i}></div>
                `
            };



            var imagescroller = document.querySelectorAll("div.img-scroller");
            var width = mainDesigner.getBoundingClientRect()["width"];

            function scrollImg() {
                for (let i = 0; i < imagescroller.length; i++) {
                imagescroller[i].addEventListener("wheel", (event) => {
                    width = mainDesigner.getBoundingClientRect()["width"];
                    event.preventDefault();
                    let speed = event.deltaY * (width/150);
                    imagescroller[i].scrollLeft += speed;
            });
            };
            } 

            function zoom() {
                for (let i = 0; i < imagescroller.length; i++) {
                imagescroller[i].addEventListener("click", (event) => {
                    if (event.target.tagName.toLowerCase() === 'img') {
                        const imgSource = event.target.getAttribute("src");
                        mainDesigner.innerHTML += `
                            <div class="gray-screen">
                              <img class="img-big" src=${imgSource}>
                              <svg onclick="closeImg(event)" xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-x close" viewBox="0 0 16 16">
                                <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
                              </svg>
                            </div>
                        `;
                        }
                })
            }
            }
            scrollImg();
            zoom();

                function closeImg(event) {
                    event.target.closest(".gray-screen").remove();
                    imagescroller = document.querySelectorAll("div.img-scroller");
                    
                    zoom()
                    scrollImg()
                }

            var dots = document.querySelectorAll("div.dot");
            const leftArrow = document.querySelector("i.bi-chevron-compact-left");
            const rightArrow = document.querySelector("i.bi-chevron-compact-right");



            function lightUp() {
                for (let i = 0; i < dots.length; i++) {
                    if (width * (i - 0.5) <= mainDesigner.scrollLeft && mainDesigner.scrollLeft < width * (i + 0.5)) {
                        dots[i].style.backgroundColor = "var(--white)";
                        dots[i].style.width = "6px";
                        dots[i].style.height = "6px";
                        dots[i].style.borderRadius = "3px";
                    } else {
                        dots[i].style.backgroundColor = "var(--unfocused)";
                        dots[i].style.width = "4px";
                        dots[i].style.height = "4px";
                        dots[i].style.borderRadius = "2px";
                    }
                };
            };

            lightUp();

            leftArrow.addEventListener("click", (event) => {
                event.preventDefault();
                mainDesigner.scrollLeft -= width;
            });

            rightArrow.addEventListener("click", (event) => {
                event.preventDefault();
                mainDesigner.scrollLeft += width;
            });

            window.addEventListener("resize", () => {
                width = mainDesigner.getBoundingClientRect()["width"];
                lightUp();
            })
            mainDesigner.addEventListener("scroll", lightUp);
            

            window.addEventListener("load", () => {
                linkScroll()
            })
            function linkScroll() {
                let direction = 1;
                let currentLink = 0;
                let isScrolling = true;

                scroller.addEventListener("mouseover", () => {
                    isScrolling = false;
                });

                scroller.addEventListener("mouseout", () => {
                    isScrolling = true;
                });

                const scrollInterval = setInterval(() => {
                    if (isScrolling) {
                    scroller.scrollBy(0, 20 * direction);
                    currentLink += direction;

                    if (currentLink >= 7|| currentLink <= 0) {
                        
                        direction *= -1;
                    }
                    }
                }, 1000); 
            }




        </script>
    </body>
</html>
